(function(a){typeof define=="function"&&define.amd?define(["jquery"],a):typeof module!="undefined"&&module.exports?module.exports=a:a(jQuery,window,document)})(function(a){(function(b){var c=typeof define=="function"&&define.amd,d=typeof module!="undefined"&&module.exports,e="https:"==document.location.protocol?"https:":"http:",f="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";c||(d?require("jquery-mousewheel")(a):a.event.special.mousewheel||a("head").append(decodeURI("%3Cscript src="+e+"//"+f+"%3E%3C/script%3E"))),b()})(function(){var j="mCustomScrollbar",b="mCS",z=".mCustomScrollbar",D={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},ac=0,r={},p=window.attachEvent&&!window.addEventListener?1:0,g=!1,l,c=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],i={init:function(d){var d=a.extend(!0,{},D,d),g=o.call(this),e,f;if(d.live){if(e=d.liveSelector||this.selector||z,f=a(e),d.live==="off"){v(e);return}r[e]=setTimeout(function(){f.mCustomScrollbar(d),d.live==="once"&&f.length&&v(e)},500)}else v(e);return d.setWidth=d.set_width?d.set_width:d.setWidth,d.setHeight=d.set_height?d.set_height:d.setHeight,d.axis=d.horizontalScroll?"x":$(d.axis),d.scrollInertia=d.scrollInertia>0&&d.scrollInertia<17?17:d.scrollInertia,typeof d.mouseWheel!="object"&&d.mouseWheel==!0&&(d.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),d.mouseWheel.scrollAmount=d.mouseWheelPixels?d.mouseWheelPixels:d.mouseWheel.scrollAmount,d.mouseWheel.normalizeDelta=d.advanced.normalizeMouseWheelDelta?d.advanced.normalizeMouseWheelDelta:d.mouseWheel.normalizeDelta,d.scrollButtons.scrollType=Z(d.scrollButtons.scrollType),E(d),a(g).each(function(){var e=a(this),g,f,h,j,k;e.data(b)||(e.data(b,{idx:++ac,opt:d,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:e.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}}),g=e.data(b),f=g.opt,h=e.data("mcs-axis"),j=e.data("mcs-scrollbar-position"),k=e.data("mcs-theme"),h&&(f.axis=h),j&&(f.scrollbarPosition=j),k&&(f.theme=k,E(f)),X.call(this),g&&f.callbacks.onCreate&&typeof f.callbacks.onCreate=="function"&&f.callbacks.onCreate.call(this),a("#mCSB_"+g.idx+"_container img:not(."+c[2]+")").addClass(c[2]),i.update.call(null,e))})},update:function(f,d){var g=f||o.call(this);return a(g).each(function(){var i=a(this),g,f,j,m,k,l;if(i.data(b)){if(g=i.data(b),f=g.opt,j=a("#mCSB_"+g.idx+"_container"),m=a("#mCSB_"+g.idx),k=[a("#mCSB_"+g.idx+"_dragger_vertical"),a("#mCSB_"+g.idx+"_dragger_horizontal")],!j.length)return;g.tweenRunning&&h(i),d&&g&&f.callbacks.onBeforeUpdate&&typeof f.callbacks.onBeforeUpdate=="function"&&f.callbacks.onBeforeUpdate.call(this),i.hasClass(c[3])&&i.removeClass(c[3]),i.hasClass(c[4])&&i.removeClass(c[4]),m.css("max-height","none"),m.height()!==i.height()&&m.css("max-height",i.height()),U.call(this),f.axis!=="y"&&!f.advanced.autoExpandHorizontalScroll&&j.css("width",H(j)),g.overflowed=ab.call(this),J.call(this),f.autoDraggerLength&&R.call(this),T.call(this),ad.call(this),l=[Math.abs(j[0].offsetTop),Math.abs(j[0].offsetLeft)],f.axis!=="x"&&(g.overflowed[0]?k[0].height()>k[0].parent().height()?n.call(this):(e(i,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}),g.contentReset.y=null):(n.call(this),f.axis==="y"?w.call(this):f.axis==="yx"&&g.overflowed[1]&&e(i,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),f.axis!=="y"&&(g.overflowed[1]?k[1].width()>k[1].parent().width()?n.call(this):(e(i,l[1].toString(),{dir:"x",dur:0,overwrite:"none"}),g.contentReset.x=null):(n.call(this),f.axis==="x"?w.call(this):f.axis==="yx"&&g.overflowed[0]&&e(i,l[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),d&&g&&(d===2&&f.callbacks.onImageLoad&&typeof f.callbacks.onImageLoad=="function"?f.callbacks.onImageLoad.call(this):d===3&&f.callbacks.onSelectorChange&&typeof f.callbacks.onSelectorChange=="function"?f.callbacks.onSelectorChange.call(this):f.callbacks.onUpdate&&typeof f.callbacks.onUpdate=="function"&&f.callbacks.onUpdate.call(this)),y.call(this)}})},scrollTo:function(c,d){if(typeof c=="undefined"||c==null)return;var f=o.call(this);return a(f).each(function(){var i=a(this),h,j,k,f,g,l;i.data(b)&&(h=i.data(b),j=h.opt,k={trigger:"external",scrollInertia:j.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},f=a.extend(!0,{},k,d),g=B.call(this,c),l=f.scrollInertia>0&&f.scrollInertia<17?17:f.scrollInertia,g[0]=I.call(this,g[0],"y"),g[1]=I.call(this,g[1],"x"),f.moveDragger&&(g[0]*=h.scrollRatio.y,g[1]*=h.scrollRatio.x),f.dur=S()?0:l,setTimeout(function(){g[0]!==null&&typeof g[0]!="undefined"&&j.axis!=="x"&&h.overflowed[0]&&(f.dir="y",f.overwrite="all",e(i,g[0].toString(),f)),g[1]!==null&&typeof g[1]!="undefined"&&j.axis!=="y"&&h.overflowed[1]&&(f.dir="x",f.overwrite="none",e(i,g[1].toString(),f))},f.timeout))})},stop:function(){var c=o.call(this);return a(c).each(function(){var c=a(this);c.data(b)&&h(c)})},disable:function(d){var e=o.call(this);return a(e).each(function(){var e=a(this),f;e.data(b)&&(f=e.data(b),y.call(this,"remove"),w.call(this),d&&n.call(this),J.call(this,!0),e.addClass(c[3]))})},destroy:function(){var d=o.call(this);return a(d).each(function(){var f=a(this),e,g,i,h,l;f.data(b)&&(e=f.data(b),g=e.opt,i=a("#mCSB_"+e.idx),h=a("#mCSB_"+e.idx+"_container"),l=a(".mCSB_"+e.idx+"_scrollbar"),g.live&&v(g.liveSelector||a(d).selector),y.call(this,"remove"),w.call(this),n.call(this),f.removeData(b),k(this,"mcs"),l.remove(),h.find("img."+c[2]).removeClass(c[2]),i.replaceWith(h.contents()),f.removeClass(j+" _"+b+"_"+e.idx+" "+c[6]+" "+c[7]+" "+c[5]+" "+c[3]).addClass(c[4]))})}},o=function(){return typeof a(this)!="object"||a(this).length<1?z:this},E=function(b){var c=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],d=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],e=["minimal","minimal-dark"],f=["minimal","minimal-dark"],g=["minimal","minimal-dark"];b.autoDraggerLength=!(a.inArray(b.theme,c)>-1)&&b.autoDraggerLength,b.autoExpandScrollbar=!(a.inArray(b.theme,d)>-1)&&b.autoExpandScrollbar,b.scrollButtons.enable=!(a.inArray(b.theme,e)>-1)&&b.scrollButtons.enable,b.autoHideScrollbar=a.inArray(b.theme,f)>-1||b.autoHideScrollbar,b.scrollbarPosition=a.inArray(b.theme,g)>-1?"outside":b.scrollbarPosition},v=function(a){r[a]&&(clearTimeout(r[a]),k(r,a))},$=function(a){return a==="yx"||a==="xy"||a==="auto"?"yx":a==="x"||a==="horizontal"?"x":"y"},Z=function(a){return a==="stepped"||a==="pixels"||a==="step"||a==="click"?"stepped":"stepless"},X=function(){var f=a(this),e=f.data(b),d=e.opt,k=d.autoExpandScrollbar?" "+c[1]+"_expand":"",g=["<div id='mCSB_"+e.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+d.theme+" mCSB_scrollTools_vertical"+k+"'><div class='"+c[12]+"'><div id='mCSB_"+e.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+e.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+d.theme+" mCSB_scrollTools_horizontal"+k+"'><div class='"+c[12]+"'><div id='mCSB_"+e.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],q=d.axis==="yx"?"mCSB_vertical_horizontal":d.axis==="x"?"mCSB_horizontal":"mCSB_vertical",m=d.axis==="yx"?g[0]+g[1]:d.axis==="x"?g[1]:g[0],n=d.axis==="yx"?"<div id='mCSB_"+e.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",o=d.autoHideScrollbar?" "+c[6]:"",p=d.axis!=="x"&&e.langDir==="rtl"?" "+c[7]:"",l,i,h;d.setWidth&&f.css("width",d.setWidth),d.setHeight&&f.css("height",d.setHeight),d.setLeft=d.axis!=="y"&&e.langDir==="rtl"?"989999px":d.setLeft,f.addClass(j+" _"+b+"_"+e.idx+o+p).wrapInner("<div id='mCSB_"+e.idx+"' class='mCustomScrollBox mCS-"+d.theme+" "+q+"'><div id='mCSB_"+e.idx+"_container' class='mCSB_container' style='position:relative; top:"+d.setTop+"; left:"+d.setLeft+";' dir='"+e.langDir+"' /></div>"),l=a("#mCSB_"+e.idx),i=a("#mCSB_"+e.idx+"_container"),d.axis!=="y"&&!d.advanced.autoExpandHorizontalScroll&&i.css("width",H(i)),d.scrollbarPosition==="outside"?(f.css("position")==="static"&&f.css("position","relative"),f.css("overflow","visible"),l.addClass("mCSB_outside").after(m)):(l.addClass("mCSB_inside").append(m),i.wrap(n)),K.call(this),h=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")],h[0].css("min-height",h[0].height()),h[1].css("min-width",h[1].width())},H=function(c){var b=[c[0].scrollWidth,Math.max.apply(Math,c.children().map(function(){return a(this).outerWidth(!0)}).get())],d=c.parent().width();return b[0]>d?b[0]:b[1]>d?b[1]:"100%"},U=function(){var g=a(this),e=g.data(b),d=e.opt,c=a("#mCSB_"+e.idx+"_container"),f;d.advanced.autoExpandHorizontalScroll&&d.axis!=="y"&&(c.css({width:"auto","min-width":0,"overflow-x":"scroll"}),f=Math.ceil(c[0].scrollWidth),d.advanced.autoExpandHorizontalScroll===3||d.advanced.autoExpandHorizontalScroll!==2&&f>c.parent().width()?c.css({width:f,"min-width":"100%","overflow-x":"inherit"}):c.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(c[0].getBoundingClientRect().right+.4)-Math.floor(c[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap())},K=function(){var j=a(this),h=j.data(b),e=h.opt,i=a(".mCSB_"+h.idx+"_scrollbar:first"),g=s(e.scrollButtons.tabindex)?"tabindex='"+e.scrollButtons.tabindex+"'":"",d=["<a href='#' class='"+c[13]+"' "+g+" />","<a href='#' class='"+c[14]+"' "+g+" />","<a href='#' class='"+c[15]+"' "+g+" />","<a href='#' class='"+c[16]+"' "+g+" />"],f=[e.axis==="x"?d[2]:d[0],e.axis==="x"?d[3]:d[1],d[2],d[3]];e.scrollButtons.enable&&i.prepend(f[0]).append(f[1]).next(".mCSB_scrollTools").prepend(f[2]).append(f[3])},R=function(){var i=a(this),e=i.data(b),f=a("#mCSB_"+e.idx),g=a("#mCSB_"+e.idx+"_container"),d=[a("#mCSB_"+e.idx+"_dragger_vertical"),a("#mCSB_"+e.idx+"_dragger_horizontal")],h=[f.height()/g.outerHeight(!1),f.width()/g.outerWidth(!1)],c=[parseInt(d[0].css("min-height")),Math.round(h[0]*d[0].parent().height()),parseInt(d[1].css("min-width")),Math.round(h[1]*d[1].parent().width())],j=p&&c[1]<c[0]?c[0]:c[1],k=p&&c[3]<c[2]?c[2]:c[3];d[0].css({height:j,"max-height":d[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),d[1].css({width:k,"max-width":d[1].parent().width()-10})},T=function(){var i=a(this),c=i.data(b),f=a("#mCSB_"+c.idx),g=a("#mCSB_"+c.idx+"_container"),d=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")],h=[g.outerHeight(!1)-f.height(),g.outerWidth(!1)-f.width()],e=[h[0]/(d[0].parent().height()-d[0].height()),h[1]/(d[1].parent().width()-d[1].width())];c.scrollRatio={y:e[0],x:e[1]}},u=function(a,d,e){var f=e?c[0]+"_expanded":"",b=a.closest(".mCSB_scrollTools");d==="active"?(a.toggleClass(c[0]+" "+f),b.toggleClass(c[1]),a[0]._draggable=a[0]._draggable?0:1):a[0]._draggable||(d==="hide"?(a.removeClass(c[0]),b.removeClass(c[1])):(a.addClass(c[0]),b.addClass(c[1])))},ab=function(){var j=a(this),d=j.data(b),h=a("#mCSB_"+d.idx),c=a("#mCSB_"+d.idx+"_container"),e=d.overflowed==null?c.height():c.outerHeight(!1),f=d.overflowed==null?c.width():c.outerWidth(!1),g=c[0].scrollHeight,i=c[0].scrollWidth;return g>e&&(e=g),i>f&&(f=i),[e>h.height(),f>h.width()]},n=function(){var d=a(this),c=d.data(b),f=c.opt,k=a("#mCSB_"+c.idx),g=a("#mCSB_"+c.idx+"_container"),j=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")],i;h(d),(f.axis!=="x"&&!c.overflowed[0]||f.axis==="y"&&c.overflowed[0])&&(j[0].add(g).css("top",0),e(d,"_resetY")),(f.axis!=="y"&&!c.overflowed[1]||f.axis==="x"&&c.overflowed[1])&&(i=dx=0,c.langDir==="rtl"&&(i=k.width()-g.outerWidth(!1),dx=Math.abs(i/c.scrollRatio.x)),g.css("left",i),j[1].css("left",dx),e(d,"_resetX"))},ad=function(){var e=a(this),d=e.data(b),c=d.opt,g;if(!d.bindEvents){if(ae.call(this),c.contentTouchScroll&&aa.call(this),Y.call(this),c.mouseWheel.enable){function f(){g=setTimeout(function(){a.event.special.mousewheel?(clearTimeout(g),W.call(e[0])):f()},100)}f()}M.call(this),O.call(this),c.advanced.autoScrollOnFocus&&N.call(this),c.scrollButtons.enable&&P.call(this),c.keyboard.enable&&Q.call(this),d.bindEvents=!0}},w=function(){var f=a(this),d=f.data(b),e=d.opt,h=b+"_"+d.idx,i=".mCSB_"+d.idx+"_scrollbar",g=a("#mCSB_"+d.idx+",#mCSB_"+d.idx+"_container,#mCSB_"+d.idx+"_container_wrapper,"+i+" ."+c[12]+",#mCSB_"+d.idx+"_dragger_vertical,#mCSB_"+d.idx+"_dragger_horizontal,"+i+">a"),j=a("#mCSB_"+d.idx+"_container");e.advanced.releaseDraggableSelectors&&g.add(a(e.advanced.releaseDraggableSelectors)),e.advanced.extraDraggableSelectors&&g.add(a(e.advanced.extraDraggableSelectors)),d.bindEvents&&(a(document).add(a(!m()||top.document)).unbind("."+h),g.each(function(){a(this).unbind("."+h)}),clearTimeout(f[0]._focusTimeout),k(f[0],"_focusTimeout"),clearTimeout(d.sequential.step),k(d.sequential,"step"),clearTimeout(j[0].onCompleteTimeout),k(j[0],"onCompleteTimeout"),d.bindEvents=!1)},J=function(k){var i=a(this),d=i.data(b),g=d.opt,j=a("#mCSB_"+d.idx+"_container_wrapper"),f=j.length?j:a("#mCSB_"+d.idx+"_container"),e=[a("#mCSB_"+d.idx+"_scrollbar_vertical"),a("#mCSB_"+d.idx+"_scrollbar_horizontal")],h=[e[0].find(".mCSB_dragger"),e[1].find(".mCSB_dragger")];g.axis!=="x"&&(d.overflowed[0]&&!k?(e[0].add(h[0]).add(e[0].children("a")).css("display","block"),f.removeClass(c[8]+" "+c[10])):(g.alwaysShowScrollbar?(g.alwaysShowScrollbar!==2&&h[0].css("display","none"),f.removeClass(c[10])):(e[0].css("display","none"),f.addClass(c[10])),f.addClass(c[8]))),g.axis!=="y"&&(d.overflowed[1]&&!k?(e[1].add(h[1]).add(e[1].children("a")).css("display","block"),f.removeClass(c[9]+" "+c[11])):(g.alwaysShowScrollbar?(g.alwaysShowScrollbar!==2&&h[1].css("display","none"),f.removeClass(c[11])):(e[1].css("display","none"),f.addClass(c[11])),f.addClass(c[9]))),!d.overflowed[0]&&!d.overflowed[1]?i.addClass(c[5]):i.removeClass(c[5])},d=function(b){var g=b.type,c=b.target.ownerDocument!==document&&frameElement!==null?[a(frameElement).offset().top,a(frameElement).offset().left]:null,d=m()&&b.target.ownerDocument!==top.document&&frameElement!==null?[a(b.view.frameElement).offset().top,a(b.view.frameElement).offset().left]:[0,0],e,f;switch(g){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return c?[b.originalEvent.pageY-c[0]+d[0],b.originalEvent.pageX-c[1]+d[1],!1]:[b.originalEvent.pageY,b.originalEvent.pageX,!1];break;case"touchstart":case"touchmove":case"touchend":return e=b.originalEvent.touches[0]||b.originalEvent.changedTouches[0],f=b.originalEvent.touches.length||b.originalEvent.changedTouches.length,b.target.ownerDocument!==document?[e.screenY,e.screenX,f>1]:[e.pageY,e.pageX,f>1];break;default:return c?[b.pageY-c[0]+d[0],b.pageX-c[1]+d[1],!1]:[b.pageY,b.pageX,!1]}},ae=function(){var n=a(this),i=n.data(b),j=i.opt,f=b+"_"+i.idx,r=["mCSB_"+i.idx+"_dragger_vertical","mCSB_"+i.idx+"_dragger_horizontal"],q=a("#mCSB_"+i.idx+"_container"),o=a("#"+r[0]+",#"+r[1]),c,l,k,t=j.advanced.releaseDraggableSelectors?o.add(a(j.advanced.releaseDraggableSelectors)):o,v=j.advanced.extraDraggableSelectors?a(!m()||top.document).add(a(j.advanced.extraDraggableSelectors)):a(!m()||top.document);o.bind("contextmenu."+f,function(a){a.preventDefault()}).bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(b){if(b.stopImmediatePropagation(),b.preventDefault(),!F(b))return;g=!0,p&&(document.onselectstart=function(){return!1}),C.call(q,!1),h(n),c=a(this);var e=c.offset(),f=d(b)[0]-e.top,i=d(b)[1]-e.left,m=c.height()+e.top,o=c.width()+e.left;f<m&&f>0&&i<o&&i>0&&(l=f,k=i),u(c,"active",j.autoExpandScrollbar)}).bind("touchmove."+f,function(a){a.stopImmediatePropagation(),a.preventDefault();var b=c.offset(),e=d(a)[0]-b.top,f=d(a)[1]-b.left;s(l,k,e,f)}),a(document).add(v).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(a){if(c){var b=c.offset(),e=d(a)[0]-b.top,f=d(a)[1]-b.left;if(l===e&&k===f)return;s(l,k,e,f)}}).add(t).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(a){c&&(u(c,"active",j.autoExpandScrollbar),c=null),g=!1,p&&(document.onselectstart=null),C.call(q,!0)});function s(d,f,g,h){var a,b;q[0].idleTimer=j.scrollInertia<233?250:0,c.attr("id")===r[1]?(a="x",b=(c[0].offsetLeft-f+h)*i.scrollRatio.x):(a="y",b=(c[0].offsetTop-d+g)*i.scrollRatio.y),e(n,b.toString(),{dir:a,drag:!0})}},aa=function(){var v=a(this),c=v.data(b),f=c.opt,k=b+"_"+c.idx,y=a("#mCSB_"+c.idx),r=a("#mCSB_"+c.idx+"_container"),w=[a("#mCSB_"+c.idx+"_dragger_vertical"),a("#mCSB_"+c.idx+"_dragger_horizontal")],E,s,u,S,I,B=[],x=[],L,J,D,o,n,i,K=0,F,G=f.axis==="yx"?"none":"all",j=[],A,z,H=r.find("iframe"),p=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],M=document.body.style.touchAction!==void 0&&document.body.style.touchAction!=="";r.bind(p[0],function(a){N(a)}).bind(p[1],function(a){O(a)}),y.bind(p[0],function(a){P(a)}).bind(p[2],function(a){Q(a)}),H.length&&H.each(function(){a(this).bind("load",function(){m(this)&&a(this.contentDocument||this.contentWindow.document).bind(p[0],function(a){N(a),P(a)}).bind(p[1],function(a){O(a)}).bind(p[2],function(a){Q(a)})})});function N(a){if(!t(a)||g||d(a)[2]){l=0;return}l=1,A=0,z=0,E=1,v.removeClass("mCS_touch_action");var b=r.offset();s=d(a)[0]-b.top,u=d(a)[1]-b.left,j=[d(a)[0],d(a)[1]]}function O(a){var h,b,e,k,l,m,n,o;if(!t(a)||g||d(a)[2])return;if(f.documentTouchScroll||a.preventDefault(),a.stopImmediatePropagation(),z&&!A)return;E&&(J=q(),h=y.offset(),b=d(a)[0]-h.top,e=d(a)[1]-h.left,k="mcsLinearOut",B.push(b),x.push(e),j[2]=Math.abs(d(a)[0]-j[0]),j[3]=Math.abs(d(a)[1]-j[1]),c.overflowed[0]&&(l=w[0].parent().height()-w[0].height(),m=s-b>0&&b-s>-(l*c.scrollRatio.y)&&(j[3]*2<j[2]||f.axis==="yx")),c.overflowed[1]&&(n=w[1].parent().width()-w[1].width(),o=u-e>0&&e-u>-(n*c.scrollRatio.x)&&(j[2]*2<j[3]||f.axis==="yx")),m||o?(M||a.preventDefault(),A=1):(z=1,v.addClass("mCS_touch_action")),M&&a.preventDefault(),i=f.axis==="yx"?[s-b,u-e]:f.axis==="x"?[null,u-e]:[s-b,null],r[0].idleTimer=250,c.overflowed[0]&&C(i[0],K,k,"y","all",!0),c.overflowed[1]&&C(i[1],K,k,"x",G,!0))}function P(a){if(!t(a)||g||d(a)[2]){l=0;return}l=1,a.stopImmediatePropagation(),h(v),L=q();var b=y.offset();S=d(a)[0]-b.top,I=d(a)[1]-b.left,B=[],x=[]}function Q(b){var m,p,j,k,h,l,a,e,s;if(!t(b)||g||d(b)[2])return;if(E=0,b.stopImmediatePropagation(),A=0,z=0,D=q(),m=y.offset(),p=d(b)[0]-m.top,j=d(b)[1]-m.left,D-J>30)return;n=1e3/(D-L),k="mcsEaseOut",h=n<2.5,l=h?[B[B.length-2],x[x.length-2]]:[0,0],o=h?[p-l[0],j-l[1]]:[p-S,j-I],a=[Math.abs(o[0]),Math.abs(o[1])],n=h?[Math.abs(o[0]/4),Math.abs(o[1]/4)]:[n,n],e=[Math.abs(r[0].offsetTop)-o[0]*R(a[0]/n[0],n[0]),Math.abs(r[0].offsetLeft)-o[1]*R(a[1]/n[1],n[1])],i=f.axis==="yx"?[e[0],e[1]]:f.axis==="x"?[null,e[1]]:[e[0],null],F=[a[0]*4+f.scrollInertia,a[1]*4+f.scrollInertia],s=parseInt(f.contentTouchScroll)||0,i[0]=a[0]>s?i[0]:0,i[1]=a[1]>s?i[1]:0,c.overflowed[0]&&C(i[0],F[0],k,"y",G,!1),c.overflowed[1]&&C(i[1],F[1],k,"x",G,!1)}function R(c,a){var b=[a*1.5,a*2,a/1.5,a/2];return c>90?a>4?b[0]:b[3]:c>60?a>3?b[3]:b[2]:c>30?a>8?b[1]:a>6?b[0]:a>4?a:b[2]:a>8?a:b[3]}function C(a,b,c,d,f,g){if(!a)return;e(v,a.toString(),{dur:b,scrollEasing:c,dir:d,overwrite:f,drag:g})}},Y=function(){var n=a(this),c=n.data(b),m=c.opt,k=c.sequential,j=b+"_"+c.idx,h=a("#mCSB_"+c.idx+"_container"),i=h.parent(),f;h.bind("mousedown."+j,function(a){if(l)return;f||(f=1,g=!0)}).add(document).bind("mousemove."+j,function(g){if(!l&&f&&o()){var j=h.offset(),a=d(g)[0]-j.top+h[0].offsetTop,b=d(g)[1]-j.left+h[0].offsetLeft;a>0&&a<i.height()&&b>0&&b<i.width()?k.step&&e("off",null,"stepped"):(m.axis!=="x"&&c.overflowed[0]&&(a<0?e("on",38):a>i.height()&&e("on",40)),m.axis!=="y"&&c.overflowed[1]&&(b<0?e("on",37):b>i.width()&&e("on",39)))}}).bind("mouseup."+j+" dragend."+j,function(a){if(l)return;f&&(f=0,e("off",null)),g=!1});function o(){return window.getSelection?window.getSelection().toString():document.selection&&document.selection.type!="Control"?document.selection.createRange().text:0}function e(b,c,a){k.type=a&&f?"stepped":"stepless",k.scrollAmount=10,x(n,b,c,"mcsLinearOut",a?60:null)}},W=function(){if(!a(this).data(b))return;var i=a(this),d=i.data(b),c=d.opt,j=b+"_"+d.idx,g=a("#mCSB_"+d.idx),f=[a("#mCSB_"+d.idx+"_dragger_vertical"),a("#mCSB_"+d.idx+"_dragger_horizontal")],k=a("#mCSB_"+d.idx+"_container").find("iframe");k.length&&k.each(function(){a(this).bind("load",function(){m(this)&&a(this.contentDocument||this.contentWindow.document).bind("mousewheel."+j,function(a,b){l(a,b)})})}),g.bind("mousewheel."+j,function(a,b){l(a,b)});function l(b,t){var r,q,l,k,n,o,m,s,j;if(h(i),L(i,b.target))return;if(r=c.mouseWheel.deltaFactor!=="auto"?parseInt(c.mouseWheel.deltaFactor):p&&b.deltaFactor<100?100:b.deltaFactor||100,q=c.scrollInertia,c.axis==="x"||c.mouseWheel.axis==="x"?(l="x",k=[Math.round(r*d.scrollRatio.x),parseInt(c.mouseWheel.scrollAmount)],n=c.mouseWheel.scrollAmount!=="auto"?k[1]:k[0]>=g.width()?g.width()*.9:k[0],o=Math.abs(a("#mCSB_"+d.idx+"_container")[0].offsetLeft),m=f[1][0].offsetLeft,s=f[1].parent().width()-f[1].width(),j=c.mouseWheel.axis==="y"?b.deltaY||t:b.deltaX):(l="y",k=[Math.round(r*d.scrollRatio.y),parseInt(c.mouseWheel.scrollAmount)],n=c.mouseWheel.scrollAmount!=="auto"?k[1]:k[0]>=g.height()?g.height()*.9:k[0],o=Math.abs(a("#mCSB_"+d.idx+"_container")[0].offsetTop),m=f[0][0].offsetTop,s=f[0].parent().height()-f[0].height(),j=b.deltaY||t),l==="y"&&!d.overflowed[0]||l==="x"&&!d.overflowed[1])return;(c.mouseWheel.invert||b.webkitDirectionInvertedFromDevice)&&(j=-j),c.mouseWheel.normalizeDelta&&(j=j<0?-1:1),(j>0&&m!==0||j<0&&m!==s||c.mouseWheel.preventDefault)&&(b.stopImmediatePropagation(),b.preventDefault()),b.deltaFactor<5&&!c.mouseWheel.normalizeDelta&&(n=b.deltaFactor,q=17),e(i,(o-j*n).toString(),{dir:l,dur:q})}},A=new Object,m=function(c){var d=!1,b=!1,e=null,f;if(c===void 0?b="#empty":a(c).attr("id")!==void 0&&(b=a(c).attr("id")),b!==!1&&A[b]!==void 0)return A[b];if(c){try{f=c.contentDocument||c.contentWindow.document,e=f.body.innerHTML}catch(a){}d=e!==null}else{try{f=top.document,e=f.body.innerHTML}catch(a){}d=e!==null}return b!==!1&&(A[b]=d),d},C=function(b){var a=this.find("iframe"),c;if(!a.length)return;c=b?"auto":"none",a.css("pointer-events",c)},L=function(e,c){var d=c.nodeName.toLowerCase(),f=e.data(b).opt.mouseWheel.disableOver,g=["select","textarea"];return a.inArray(d,f)>-1&&!(a.inArray(d,g)>-1&&!a(c).is(":focus"))},M=function(){var i=a(this),f=i.data(b),d=b+"_"+f.idx,j=a("#mCSB_"+f.idx+"_container"),l=j.parent(),m=a(".mCSB_"+f.idx+"_scrollbar ."+c[12]),k;m.bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(b){g=!0,a(b.target).hasClass("mCSB_dragger")||(k=1)}).bind("touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(a){g=!1}).bind("click."+d,function(b){var g,m,n,d,o;if(!k)return;if(k=0,a(b.target).hasClass(c[12])||a(b.target).hasClass("mCSB_draggerRail")){if(h(i),g=a(this),m=g.find(".mCSB_dragger"),g.parent(".mCSB_scrollTools_horizontal").length>0){if(!f.overflowed[1])return;n="x",d=b.pageX>m.offset().left?-1:1,o=Math.abs(j[0].offsetLeft)-d*(l.width()*.9)}else{if(!f.overflowed[0])return;n="y",d=b.pageY>m.offset().top?-1:1,o=Math.abs(j[0].offsetTop)-d*(l.height()*.9)}e(i,o.toString(),{dir:n,scrollEasing:"mcsEaseInOut"})}})},N=function(){var c=a(this),i=c.data(b),g=i.opt,k=b+"_"+i.idx,d=a("#mCSB_"+i.idx+"_container"),j=d.parent();d.bind("focusin."+k,function(l){var b=a(document.activeElement),k=d.find(".mCustomScrollBox").length,i=0;if(!b.is(g.advanced.autoScrollOnFocus))return;h(c),clearTimeout(c[0]._focusTimeout),c[0]._focusTimer=k?(i+17)*k:0,c[0]._focusTimeout=setTimeout(function(){var a=[f(b)[0],f(b)[1]],h=[d[0].offsetTop,d[0].offsetLeft],k=[h[0]+a[0]>=0&&h[0]+a[0]<j.height()-b.outerHeight(!1),h[1]+a[1]>=0&&h[0]+a[1]<j.width()-b.outerWidth(!1)],l=g.axis==="yx"&&!k[0]&&!k[1]?"none":"all";g.axis!=="x"&&!k[0]&&e(c,a[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:l,dur:i}),g.axis!=="y"&&!k[1]&&e(c,a[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:l,dur:i})},c[0]._focusTimer)})},O=function(){var e=a(this),c=e.data(b),f=b+"_"+c.idx,d=a("#mCSB_"+c.idx+"_container").parent();d.bind("scroll."+f,function(b){(d.scrollTop()!==0||d.scrollLeft()!==0)&&a(".mCSB_"+c.idx+"_scrollbar").css("visibility","hidden")})},P=function(){var f=a(this),d=f.data(b),h=d.opt,e=d.sequential,c=b+"_"+d.idx,i=".mCSB_"+d.idx+"_scrollbar",j=a(i+">a");j.bind("contextmenu."+c,function(a){a.preventDefault()}).bind("mousedown."+c+" touchstart."+c+" pointerdown."+c+" MSPointerDown."+c+" mouseup."+c+" touchend."+c+" pointerup."+c+" MSPointerUp."+c+" mouseout."+c+" pointerout."+c+" MSPointerOut."+c+" click."+c,function(b){if(b.preventDefault(),!F(b))return;var c=a(this).attr("class");switch(e.type=h.scrollButtons.scrollType,b.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if(e.type==="stepped")return;g=!0,d.tweenRunning=!1,i("on",c);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if(e.type==="stepped")return;g=!1,e.dir&&i("off",c);break;case"click":if(e.type!=="stepped"||d.tweenRunning)return;i("on",c);break}function i(a,b){e.scrollAmount=h.scrollButtons.scrollAmount,x(f,a,b)}})},Q=function(){var g=a(this),c=g.data(b),d=c.opt,i=c.sequential,k=b+"_"+c.idx,q=a("#mCSB_"+c.idx),f=a("#mCSB_"+c.idx+"_container"),j=f.parent(),n="input,textarea,select,datalist,keygen,[contenteditable='true']",o=f.find("iframe"),p=["blur."+k+" keydown."+k+" keyup."+k];o.length&&o.each(function(){a(this).bind("load",function(){m(this)&&a(this.contentDocument||this.contentWindow.document).bind(p[0],function(a){l(a)})})}),q.attr("tabindex","0").bind(p[0],function(a){l(a)});function l(k){var b,o,p,l,m;switch(k.type){case"blur":c.tweenRunning&&i.dir&&q("off",null);break;case"keydown":case"keyup":if(b=k.keyCode?k.keyCode:k.which,o="on",d.axis!=="x"&&(b===38||b===40)||d.axis!=="y"&&(b===37||b===39)){if((b===38||b===40)&&!c.overflowed[0]||(b===37||b===39)&&!c.overflowed[1])return;k.type==="keyup"&&(o="off"),a(document.activeElement).is(n)||(k.preventDefault(),k.stopImmediatePropagation(),q(o,b))}else b===33||b===34?((c.overflowed[0]||c.overflowed[1])&&(k.preventDefault(),k.stopImmediatePropagation()),k.type==="keyup"&&(h(g),p=b===34?-1:1,d.axis==="x"||d.axis==="yx"&&c.overflowed[1]&&!c.overflowed[0]?(l="x",m=Math.abs(f[0].offsetLeft)-p*(j.width()*.9)):(l="y",m=Math.abs(f[0].offsetTop)-p*(j.height()*.9)),e(g,m.toString(),{dir:l,scrollEasing:"mcsEaseInOut"}))):(b===35||b===36)&&(a(document.activeElement).is(n)||((c.overflowed[0]||c.overflowed[1])&&(k.preventDefault(),k.stopImmediatePropagation()),k.type==="keyup"&&(d.axis==="x"||d.axis==="yx"&&c.overflowed[1]&&!c.overflowed[0]?(l="x",m=b===35?Math.abs(j.width()-f.outerWidth(!1)):0):(l="y",m=b===35?Math.abs(j.height()-f.outerHeight(!1)):0),e(g,m.toString(),{dir:l,scrollEasing:"mcsEaseInOut"}))));break}function q(a,b){if(i.type=d.keyboard.scrollType,i.scrollAmount=d.keyboard.scrollAmount,i.type==="stepped"&&c.tweenRunning)return;x(g,a,b)}}},x=function(j,q,f,p,m){var i=j.data(b),g=i.opt,d=i.sequential,n=a("#mCSB_"+i.idx+"_container"),o=d.type==="stepped",r=g.scrollInertia<26?26:g.scrollInertia,t=g.scrollInertia<1?17:g.scrollInertia;switch(q){case"on":if(d.dir=[f===c[16]||f===c[15]||f===39||f===37?"x":"y",f===c[13]||f===c[15]||f===38||f===37?-1:1],h(j),s(f)&&d.type==="stepped")return;l(o);break;case"off":u(),(o||i.tweenRunning&&d.dir)&&l(!0);break}function l(a){g.snapAmount&&(d.scrollAmount=g.snapAmount instanceof Array?d.dir[0]==="x"?g.snapAmount[1]:g.snapAmount[0]:g.snapAmount);var c=d.type!=="stepped",f=m?m:a?c?r/1.5:t:1e3/60,h=a?c?7.5:40:2.5,b=[Math.abs(n[0].offsetTop),Math.abs(n[0].offsetLeft)],k=[i.scrollRatio.y>10?10:i.scrollRatio.y,i.scrollRatio.x>10?10:i.scrollRatio.x],q=d.dir[0]==="x"?b[1]+d.dir[1]*(k[1]*h):b[0]+d.dir[1]*(k[0]*h),s=d.dir[0]==="x"?b[1]+d.dir[1]*parseInt(d.scrollAmount):b[0]+d.dir[1]*parseInt(d.scrollAmount),o=d.scrollAmount!=="auto"?s:q,u=p?p:a?c?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",v=!!a;if(a&&f<17&&(o=d.dir[0]==="x"?b[1]:b[0]),e(j,o.toString(),{dir:d.dir[0],scrollEasing:u,dur:f,onComplete:v}),a){d.dir=!1;return}clearTimeout(d.step),d.step=setTimeout(function(){l()},f)}function u(){clearTimeout(d.step),k(d,"step"),h(j)}},B=function(c){var e=a(this).data(b).opt,d=[];return typeof c=="function"&&(c=c()),c instanceof Array?d=c.length>1?[c[0],c[1]]:e.axis==="x"?[null,c[0]]:[c[0],null]:(d[0]=c.y?c.y:c.x||e.axis==="x"?null:c,d[1]=c.x?c.x:c.y||e.axis==="y"?null:c),typeof d[0]=="function"&&(d[0]=d[0]()),typeof d[1]=="function"&&(d[1]=d[1]()),d},I=function(c,e){var j,k,q,d,h,n,o,l,p,g,m;if(c==null||typeof c=="undefined")return;switch(j=a(this),k=j.data(b),q=k.opt,d=a("#mCSB_"+k.idx+"_container"),h=d.parent(),n=typeof c,e||(e=q.axis==="x"?"x":"y"),o=e==="x"?d.outerWidth(!1)-h.width():d.outerHeight(!1)-h.height(),l=e==="x"?d[0].offsetLeft:d[0].offsetTop,p=e==="x"?"left":"top",n){case"function":return c();break;case"object":if(g=c.jquery?c:a(c),!g.length)return;return e==="x"?f(g)[1]:f(g)[0];break;case"string":case"number":if(s(c))return Math.abs(c);if(c.indexOf("%")!==-1)return Math.abs(o*parseInt(c)/100);if(c.indexOf("-=")!==-1)return Math.abs(l-parseInt(c.split("-=")[1]));if(c.indexOf("+=")!==-1)return m=l+parseInt(c.split("+=")[1]),m>=0?0:Math.abs(m);if(c.indexOf("px")!==-1&&s(c.split("px")[0]))return Math.abs(c.split("px")[0]);if(c==="top"||c==="left")return 0;if(c==="bottom")return Math.abs(h.height()-d.outerHeight(!1));if(c==="right")return Math.abs(h.width()-d.outerWidth(!1));if(c==="first"||c==="last")return g=d.find(":"+c),e==="x"?f(g)[1]:f(g)[0];if(a(c).length)return e==="x"?f(a(c))[1]:f(a(c))[0];d.css(p,c),i.update.call(null,j[0]);return;break}},y=function(l){var g=a(this),d=g.data(b),e=d.opt,f=a("#mCSB_"+d.idx+"_container");if(l){clearTimeout(f[0].autoUpdate),k(f[0],"autoUpdate");return}j();function j(){if(clearTimeout(f[0].autoUpdate),g.parents("html").length===0){g=null;return}f[0].autoUpdate=setTimeout(function(){if(e.advanced.updateOnSelectorChange){if(d.poll.change.n=n(),d.poll.change.n!==d.poll.change.o){d.poll.change.o=d.poll.change.n,h(3);return}}if(e.advanced.updateOnContentResize){if(d.poll.size.n=g[0].scrollHeight+g[0].scrollWidth+f[0].offsetHeight+g[0].offsetHeight+g[0].offsetWidth,d.poll.size.n!==d.poll.size.o){d.poll.size.o=d.poll.size.n,h(1);return}}if(e.advanced.updateOnImageLoad){if(!(e.advanced.updateOnImageLoad==="auto"&&e.axis==="y")){if(d.poll.img.n=f.find("img").length,d.poll.img.n!==d.poll.img.o){d.poll.img.o=d.poll.img.n,f.find("img").each(function(){m(this)});return}}}(e.advanced.updateOnSelectorChange||e.advanced.updateOnContentResize||e.advanced.updateOnImageLoad)&&j()},e.advanced.autoUpdateTimeout)}function m(b){if(a(b).hasClass(c[2])){h();return}var d=new Image;function e(a,b){return function(){return b.apply(a,arguments)}}function f(){this.onload=null,a(b).addClass(c[2]),h(2)}d.onload=e(d,f),d.src=b.src}function n(){e.advanced.updateOnSelectorChange===!0&&(e.advanced.updateOnSelectorChange="*");var a=0,b=f.find(e.advanced.updateOnSelectorChange);return e.advanced.updateOnSelectorChange&&b.length>0&&b.each(function(){a+=this.offsetHeight+this.offsetWidth}),a}function h(a){clearTimeout(f[0].autoUpdate),i.update.call(null,g[0],a)}},V=function(b,a,c){return Math.round(b/a)*a-c},h=function(d){var c=d.data(b),e=a("#mCSB_"+c.idx+"_container,#mCSB_"+c.idx+"_container_wrapper,#mCSB_"+c.idx+"_dragger_vertical,#mCSB_"+c.idx+"_dragger_horizontal");e.each(function(){_.call(this)})},e=function(f,i,e){var c=f.data(b),d=c.opt,z={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:d.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},e=a.extend(z,e),w=[e.dur,e.drag?0:e.dur],q=a("#mCSB_"+c.idx),g=a("#mCSB_"+c.idx+"_container"),s=g.parent(),v=d.callbacks.onTotalScrollOffset?B.call(f,d.callbacks.onTotalScrollOffset):[0,0],t=d.callbacks.onTotalScrollBackOffset?B.call(f,d.callbacks.onTotalScrollBackOffset):[0,0],C,k,r,p,l,h,n,m,x,y;if(c.trigger=e.trigger,(s.scrollTop()!==0||s.scrollLeft()!==0)&&(a(".mCSB_"+c.idx+"_scrollbar").css("visibility","visible"),s.scrollTop(0).scrollLeft(0)),i==="_resetY"&&!c.contentReset.y&&(j("onOverflowYNone")&&d.callbacks.onOverflowYNone.call(f[0]),c.contentReset.y=1),i==="_resetX"&&!c.contentReset.x&&(j("onOverflowXNone")&&d.callbacks.onOverflowXNone.call(f[0]),c.contentReset.x=1),i==="_resetY"||i==="_resetX")return;switch((c.contentReset.y||!f[0].mcs)&&c.overflowed[0]&&(j("onOverflowY")&&d.callbacks.onOverflowY.call(f[0]),c.contentReset.x=null),(c.contentReset.x||!f[0].mcs)&&c.overflowed[1]&&(j("onOverflowX")&&d.callbacks.onOverflowX.call(f[0]),c.contentReset.x=null),d.snapAmount&&(C=d.snapAmount instanceof Array?e.dir==="x"?d.snapAmount[1]:d.snapAmount[0]:d.snapAmount,i=V(i,C,d.snapOffset)),e.dir){case"x":k=a("#mCSB_"+c.idx+"_dragger_horizontal"),r="left",p=g[0].offsetLeft,l=[q.width()-g.outerWidth(!1),k.parent().width()-k.width()],h=[i,i===0?0:i/c.scrollRatio.x],n=v[1],m=t[1],x=n>0?n/c.scrollRatio.x:0,y=m>0?m/c.scrollRatio.x:0;break;case"y":k=a("#mCSB_"+c.idx+"_dragger_vertical"),r="top",p=g[0].offsetTop,l=[q.height()-g.outerHeight(!1),k.parent().height()-k.height()],h=[i,i===0?0:i/c.scrollRatio.y],n=v[0],m=t[0],x=n>0?n/c.scrollRatio.y:0,y=m>0?m/c.scrollRatio.y:0;break}if(h[1]<0||h[0]===0&&h[1]===0?h=[0,0]:h[1]>=l[1]?h=[l[0],l[1]]:h[0]=-h[0],f[0].mcs||(o(),j("onInit")&&d.callbacks.onInit.call(f[0])),clearTimeout(g[0].onCompleteTimeout),G(k[0],r,Math.round(h[1]),w[1],e.scrollEasing),!c.tweenRunning&&(p===0&&h[0]>=0||p===l[0]&&h[0]<=l[0]))return;G(g[0],r,Math.round(h[0]),w[0],e.scrollEasing,e.overwrite,{onStart:function(){e.callbacks&&e.onStart&&!c.tweenRunning&&(j("onScrollStart")&&(o(),d.callbacks.onScrollStart.call(f[0])),c.tweenRunning=!0,u(k),c.cbOffsets=A())},onUpdate:function(){e.callbacks&&e.onUpdate&&j("whileScrolling")&&(o(),d.callbacks.whileScrolling.call(f[0]))},onComplete:function(){if(e.callbacks&&e.onComplete){d.axis==="yx"&&clearTimeout(g[0].onCompleteTimeout);var a=g[0].idleTimer||0;g[0].onCompleteTimeout=setTimeout(function(){j("onScroll")&&(o(),d.callbacks.onScroll.call(f[0])),j("onTotalScroll")&&h[1]>=l[1]-x&&c.cbOffsets[0]&&(o(),d.callbacks.onTotalScroll.call(f[0])),j("onTotalScrollBack")&&h[1]<=y&&c.cbOffsets[1]&&(o(),d.callbacks.onTotalScrollBack.call(f[0])),c.tweenRunning=!1,g[0].idleTimer=0,u(k,"hide")},a)}}});function j(a){return c&&d.callbacks[a]&&typeof d.callbacks[a]=="function"}function A(){return[d.callbacks.alwaysTriggerOffsets||p>=l[0]+n,d.callbacks.alwaysTriggerOffsets||p<=-m]}function o(){var a=[g[0].offsetTop,g[0].offsetLeft],b=[k[0].offsetTop,k[0].offsetLeft],c=[g.outerHeight(!1),g.outerWidth(!1)],d=[q.height(),q.width()];f[0].mcs={content:g,top:a[0],left:a[1],draggerTop:b[0],draggerLeft:b[1],topPct:Math.round(100*Math.abs(a[0])/(Math.abs(c[0])-d[0])),leftPct:Math.round(100*Math.abs(a[1])/(Math.abs(c[1])-d[1])),direction:e.dir}}},G=function(c,f,m,i,u,t,d){var p,o,n,l,e,b,h,j,g,a,s;c._mTween||(c._mTween={top:{},left:{}}),d=d||{},p=d.onStart||function(){},o=d.onUpdate||function(){},n=d.onComplete||function(){},l=q(),b=0,h=c.offsetTop,j=c.style,a=c._mTween[f],f==="left"&&(h=c.offsetLeft),s=m-h,a.stop=0,t!=="none"&&w(),v();function k(){if(a.stop)return;b||p.call(),b=q()-l,r(),b>=a.time&&(a.time=b>a.time?b+e-(b-a.time):b+e-1,a.time<b+1&&(a.time=b+1)),a.time<i?a.id=g(k):n.call()}function r(){i>0?(a.currVal=x(a.time,h,s,i,u),j[f]=Math.round(a.currVal)+"px"):j[f]=m+"px",o.call()}function v(){e=1e3/60,a.time=b+e,g=!window.requestAnimationFrame?function(a){return r(),setTimeout(a,.01)}:window.requestAnimationFrame,a.id=g(k)}function w(){if(a.id==null)return;window.requestAnimationFrame?window.cancelAnimationFrame(a.id):clearTimeout(a.id),a.id=null}function x(a,b,c,d,g){switch(g){case"linear":case"mcsLinear":return c*a/d+b;break;case"mcsLinearOut":return a/=d,a--,c*Math.sqrt(1-a*a)+b;break;case"easeInOutSmooth":return(a/=d/2,a<1)?c/2*a*a+b:(a--,-c/2*(a*(a-2)-1)+b);break;case"easeInOutStrong":return(a/=d/2,a<1)?c/2*Math.pow(2,10*(a-1))+b:(a--,c/2*(-Math.pow(2,-10*a)+2)+b);break;case"easeInOut":case"mcsEaseInOut":return(a/=d/2,a<1)?c/2*a*a*a+b:(a-=2,c/2*(a*a*a+2)+b);break;case"easeOutSmooth":return a/=d,a--,-c*(a*a*a*a-1)+b;break;case"easeOutStrong":return c*(-Math.pow(2,-10*a/d)+1)+b;break;case"easeOut":case"mcsEaseOut":default:var e=(a/=d)*a,f=e*a;return b+c*(.499999999999997*f*e+-2.5*e*e+5.5*f+-6.5*e+4*a)}}},q=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},_=function(){var a=this,d,c,b;a._mTween||(a._mTween={top:{},left:{}}),d=["top","left"];for(c=0;c<d.length;c++)b=d[c],a._mTween[b].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(a._mTween[b].id):clearTimeout(a._mTween[b].id),a._mTween[b].id=null,a._mTween[b].stop=1)},k=function(a,b){try{delete a[b]}catch(c){a[b]=null}},F=function(a){return!(a.which&&a.which!==1)},t=function(b){var a=b.originalEvent.pointerType;return!(a&&a!=="touch"&&a!==2)},s=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},f=function(a){var b=a.parents(".mCSB_container");return[a.offset().top-b.offset().top,a.offset().left-b.offset().left]},S=function(){var a=b();return!!a&&document[a];function b(){var b=["webkit","moz","ms","o"],a;if("hidden"in document)return"hidden";for(a=0;a<b.length;a++)if(b[a]+"Hidden"in document)return b[a]+"Hidden";return null}};a.fn[j]=function(b){if(i[b])return i[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return i.init.apply(this,arguments);a.error("Method "+b+" does not exist")},a[j]=function(b){if(i[b])return i[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return i.init.apply(this,arguments);a.error("Method "+b+" does not exist")},a[j].defaults=D,window[j]=!0,a(window).bind("load",function(){a(z)[j](),a.extend(a.expr[":"],{mcsInView:a.expr[":"].mcsInView||function(g){var b=a(g),d=b.parents(".mCSB_container"),e,c;if(!d.length)return;return e=d.parent(),c=[d[0].offsetTop,d[0].offsetLeft],c[0]+f(b)[0]>=0&&c[0]+f(b)[0]<e.height()-b.outerHeight(!1)&&c[1]+f(b)[1]>=0&&c[1]+f(b)[1]<e.width()-b.outerWidth(!1)},mcsInSight:a.expr[":"].mcsInSight||function(j,l,k){var e=a(j),g,h=e.parents(".mCSB_container"),b,c,d,i=k[3]==="exact"?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(!h.length)return;return g=[e.outerHeight(!1),e.outerWidth(!1)],c=[h[0].offsetTop+f(e)[0],h[0].offsetLeft+f(e)[1]],b=[h.parent()[0].offsetHeight,h.parent()[0].offsetWidth],d=[g[0]<b[0]?i[0]:i[1],g[1]<b[1]?i[0]:i[1]],c[0]-b[0]*d[0][0]<0&&c[0]+g[0]-b[0]*d[0][1]>=0&&c[1]-b[1]*d[1][0]<0&&c[1]+g[1]-b[1]*d[1][1]>=0},mcsOverflow:a.expr[":"].mcsOverflow||function(d){var c=a(d).data(b);if(!c)return;return c.overflowed[0]||c.overflowed[1]}})})})})