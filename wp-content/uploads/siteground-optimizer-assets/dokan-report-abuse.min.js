!function(c){var b={};function a(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return c[d].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=c,a.c=b,a.d=function(b,c,d){a.o(b,c)||Object.defineProperty(b,c,{enumerable:!0,get:d})},a.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},a.t=function(b,d){var c,e;if(1&d&&(b=a(b)),8&d)return b;if(4&d&&"object"==typeof b&&b&&b.__esModule)return b;if(c=Object.create(null),a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:b}),2&d&&"string"!=typeof b)for(e in b)a.d(c,e,function(a){return b[a]}.bind(null,e));return c},a.n=function(b){var c=b&&b.__esModule?function(){return b.default}:function(){return b};return a.d(c,"a",c),c},a.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},a.p="",a(a.s=64)}({0:function(a,b){a.exports=jQuery},64:function(e,c,b){"use strict",b.r(c);var d=b(0),a=b.n(d);dokan.reportAbuse={button:null,form_html:"",flashMessage:"",init:function(){var b=this;a()(".dokan-report-abuse-button").on("click",function(c){if(c.preventDefault(),b.button=this,"on"===dokanReportAbuse.reported_by_logged_in_users_only&&!dokanReportAbuse.is_user_logged_in)return a()("body").trigger("dokan:login_form_popup:show");b.getForm()}),a()("body").on("dokan:login_form_popup:fetching_form",function(){b.showLoadingAnim()}),a()("body").on("dokan:login_form_popup:fetched_form",function(){b.stopLoadingAnim()}),a()("body").on("dokan:login_form_popup:logged_in",function(c,a){dokanReportAbuse.is_user_logged_in=!0,dokanReportAbuse.nonce=a.data.dokan_report_abuse_nonce,b.getForm()}),a()("body").on("submit","#dokan-report-abuse-form-popup form",function(a){a.preventDefault(),b.submitForm(this)})},showLoadingAnim:function(){a()(this.button).addClass("working").children("i").removeClass("fa-flag").addClass("fa-spin fa-refresh")},stopLoadingAnim:function(){a()(this.button).removeClass("working").children("i").removeClass("fa-spin fa-refresh").addClass("fa-flag")},submittingForm:function(){a()("#dokan-report-abuse-form-popup fieldset").prop("disabled",!0),a()("#dokan-report-abuse-form-submit-btn").addClass("dokan-hide"),a()("#dokan-report-abuse-form-working-btn").removeClass("dokan-hide")},submittedForm:function(){a()("#dokan-report-abuse-form-popup fieldset").prop("disabled",!1),a()("#dokan-report-abuse-form-submit-btn").removeClass("dokan-hide"),a()("#dokan-report-abuse-form-working-btn").addClass("dokan-hide")},getForm:function(){var b=this;b.form_html?b.showPopup():(b.showLoadingAnim(),a.a.ajax({url:dokan.ajaxurl,method:"get",dataType:"json",data:{_wpnonce:dokanReportAbuse.nonce,action:"dokan_report_abuse_get_form"}}).done(function(a){b.form_html=a.data,b.showPopup()}).always(function(){b.stopLoadingAnim()}))},showPopup:function(){var b=this;a.a.magnificPopup.open({items:{src:b.form_html,type:"inline"},callbacks:{afterClose:function(){b.afterPopupClose()}}})},afterPopupClose:function(){this.flashMessage&&(alert(this.flashMessage),this.flashMessage="")},submitForm:function(b){var c=this,d=(a()(b).serialize(),a()(".dokan-popup-error","#dokan-report-abuse-form-popup"));d.removeClass("has-error").text(""),c.submittingForm(),a.a.ajax({url:dokan.ajaxurl,method:"post",dataType:"json",data:{_wpnonce:dokanReportAbuse.nonce,action:"dokan_report_abuse_submit_form",form_data:{reason:a()(b).find('[name="reason"]:checked').val(),product_id:dokanReportAbuse.product_id,customer_name:a()(b).find('[name="customer_name"]').val(),customer_email:a()(b).find('[name="customer_email"]').val(),description:a()(b).find('[name="description"]').val()}}}).done(function(b){c.flashMessage=b.data.message,a.a.magnificPopup.close()}).always(function(){c.submittedForm()}).fail(function(a){a.responseJSON&&a.responseJSON.data&&a.responseJSON.data.message&&d.addClass("has-error").text(a.responseJSON.data.message)})}},dokan.reportAbuse.init()}})